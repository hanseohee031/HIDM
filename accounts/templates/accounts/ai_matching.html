{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/ai_matching.css' %}">
{% endblock %}

{% block content %}
  <div class="ai-header">
    <h1>AI Matching</h1>
    <a href="{% url 'ai_matching' %}?refresh=1" class="btn-refresh">
      {% if refreshed %}Refreshed{% else %}Refresh Recommendations{% endif %}
    </a>
  </div>

  {% if error %}
    <p class="error">{{ error }}</p>
  {% elif recommendations %}
    <div class="ai-cards-grid">
      {% for rec in recommendations %}
        <div class="ai-card">
          <h2>{{ rec.nickname }}</h2>
          <p class="score">Similarity: {{ rec.score }}</p>
          <ul class="profile-details">
            <li><strong>Gender:</strong> {{ rec.gender }}</li>
            <li><strong>Native Language:</strong> {{ rec.native_language }}</li>
            <li><strong>Nationality:</strong> {{ rec.nationality }}</li>
            <li><strong>Major:</strong> {{ rec.major }}</li>
            <li><strong>Personality (MBTI):</strong> {{ rec.personality }}</li>
            <li><strong>Birth Year:</strong> {{ rec.birth_year }}</li>
            <li><strong>Interests:</strong> {{ rec.interests|join:", " }}</li>
          </ul>
          <button class="btn-add-friend">Add Friend</button>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No recommendations available.</p>
  {% endif %}
{% endblock %}
